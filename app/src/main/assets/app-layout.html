<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main Activity</title>
    <link rel="stylesheet" href="./assets/css/bootstrap.min.css">
    <style>
        .btn:active{
            border-color:transparent !important;   
        }
    </style>
</head>

<body>
    <iframe src="./homescreen.html" name="main_frame" frameborder="0" onLoad="(this.contentWindow.location);"
        style="height: calc(100vh - 64px); width: 100vw;"></iframe>

    <footer class="position-fixed d-flex gap-0 align-items-center justify-content-center bg-light py-2"
        style="bottom: 0px; left: 0px; right: 0px;">
        <button class="a-btn text-center btn" id="homescreen_a" data-link="./homescreen.html">
            <selected-icon class="d-none">
                <svg width="25" height="24" viewBox="0 0 25 24" fill="black" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M21.5299 8.01L14.9799 2.77C13.6999 1.75 11.6999 1.74 10.4299 2.76L3.87991 8.01C2.93991 8.76 2.36991 10.26 2.56991 11.44L3.82991 18.98C4.11991 20.67 5.68991 22 7.39991 22H17.9999C19.6899 22 21.2899 20.64 21.5799 18.97L22.8399 11.43C23.0199 10.26 22.4499 8.76 21.5299 8.01ZM13.4499 18C13.4499 18.41 13.1099 18.75 12.6999 18.75C12.2899 18.75 11.9499 18.41 11.9499 18V15C11.9499 14.59 12.2899 14.25 12.6999 14.25C13.1099 14.25 13.4499 14.59 13.4499 15V18Z"
                        fill="#3366FF" />
                </svg>
            </selected-icon>
            <unselected-icon>
                <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M12.7 18.75C12.29 18.75 11.95 18.41 11.95 18V15C11.95 14.59 12.29 14.25 12.7 14.25C13.11 14.25 13.45 14.59 13.45 15V18C13.45 18.41 13.11 18.75 12.7 18.75Z"
                        fill="#9CA3AF" />
                    <path
                        d="M18.2999 22.5601H7.09991C5.27991 22.5601 3.61991 21.1601 3.31991 19.3701L1.98991 11.4001C1.76991 10.1601 2.37991 8.57007 3.36991 7.78007L10.2999 2.23007C11.6399 1.15007 13.7499 1.16007 15.0999 2.24007L22.0299 7.78007C23.0099 8.57007 23.6099 10.1601 23.4099 11.4001L22.0799 19.3601C21.7799 21.1301 20.0799 22.5601 18.2999 22.5601ZM12.6899 2.93007C12.1599 2.93007 11.6299 3.09007 11.2399 3.40007L4.30991 8.96007C3.74991 9.41007 3.34991 10.4501 3.46991 11.1601L4.79991 19.1201C4.97991 20.1701 6.02991 21.0601 7.09991 21.0601H18.2999C19.3699 21.0601 20.4199 20.1701 20.5999 19.1101L21.9299 11.1501C22.0399 10.4501 21.6399 9.39007 21.0899 8.95007L14.1599 3.41007C13.7599 3.09007 13.2199 2.93007 12.6899 2.93007Z"
                        fill="#9CA3AF" />
                </svg>
            </unselected-icon>
            <p class="mb-0 text-secondary text-opacity-75 d-none d-xs-block">Home</p>
        </button>

        <button class="text-center btn a-btn" id="messages-1_a" data-link="./messages-1.html">


            <selected-icon class="d-none">
                <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M17.0999 2H7.09985C4.33985 2 2.09985 4.23 2.09985 6.98V12.96V13.96C2.09985 16.71 4.33985 18.94 7.09985 18.94H8.59985C8.86985 18.94 9.22985 19.12 9.39985 19.34L10.8999 21.33C11.5599 22.21 12.6399 22.21 13.2999 21.33L14.7999 19.34C14.9899 19.09 15.2899 18.94 15.5999 18.94H17.0999C19.8599 18.94 22.0999 16.71 22.0999 13.96V6.98C22.0999 4.23 19.8599 2 17.0999 2ZM8.09985 12C7.53985 12 7.09985 11.55 7.09985 11C7.09985 10.45 7.54985 10 8.09985 10C8.64985 10 9.09985 10.45 9.09985 11C9.09985 11.55 8.65985 12 8.09985 12ZM12.0999 12C11.5399 12 11.0999 11.55 11.0999 11C11.0999 10.45 11.5499 10 12.0999 10C12.6499 10 13.0999 10.45 13.0999 11C13.0999 11.55 12.6599 12 12.0999 12ZM16.0999 12C15.5399 12 15.0999 11.55 15.0999 11C15.0999 10.45 15.5499 10 16.0999 10C16.6499 10 17.0999 10.45 17.0999 11C17.0999 11.55 16.6599 12 16.0999 12Z"
                        fill="#3366FF" />
                </svg>

            </selected-icon>

            <unselected-icon>
                <messages-icon>
                    <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M12.0999 22.81C11.4099 22.81 10.7599 22.46 10.2999 21.85L8.79985 19.85C8.76985 19.81 8.64985 19.76 8.59985 19.75H8.09985C3.92985 19.75 1.34985 18.62 1.34985 13V8C1.34985 3.58 3.67985 1.25 8.09985 1.25H16.0999C20.5199 1.25 22.8499 3.58 22.8499 8V13C22.8499 17.42 20.5199 19.75 16.0999 19.75H15.5999C15.5199 19.75 15.4499 19.79 15.3999 19.85L13.8999 21.85C13.4399 22.46 12.7899 22.81 12.0999 22.81ZM8.09985 2.75C4.51985 2.75 2.84985 4.42 2.84985 8V13C2.84985 17.52 4.39985 18.25 8.09985 18.25H8.59985C9.10985 18.25 9.68985 18.54 9.99985 18.95L11.4999 20.95C11.8499 21.41 12.3499 21.41 12.6999 20.95L14.1999 18.95C14.5299 18.51 15.0499 18.25 15.5999 18.25H16.0999C19.6799 18.25 21.3499 16.58 21.3499 13V8C21.3499 4.42 19.6799 2.75 16.0999 2.75H8.09985Z"
                            fill="#9CA3AF" />
                        <path
                            d="M12.0999 12C11.5399 12 11.0999 11.55 11.0999 11C11.0999 10.45 11.5499 10 12.0999 10C12.6499 10 13.0999 10.45 13.0999 11C13.0999 11.55 12.6599 12 12.0999 12Z"
                            fill="#9CA3AF" />
                        <path
                            d="M16.0999 12C15.5399 12 15.0999 11.55 15.0999 11C15.0999 10.45 15.5499 10 16.0999 10C16.6499 10 17.0999 10.45 17.0999 11C17.0999 11.55 16.6599 12 16.0999 12Z"
                            fill="#9CA3AF" />
                        <path
                            d="M8.09985 12C7.53985 12 7.09985 11.55 7.09985 11C7.09985 10.45 7.54985 10 8.09985 10C8.64985 10 9.09985 10.45 9.09985 11C9.09985 11.55 8.65985 12 8.09985 12Z"
                            fill="#9CA3AF" />
                    </svg>

                </messages-icon>
            </unselected-icon>

            <p class="mb-0 text-secondary text-opacity-75 d-none d-xs-block">Messages</p>
        </button>

        <button class="text-center btn a-btn position-relative" id="applied-jobs_a" data-link="./applied-jobs.html">
            <selected-icon class="d-none">
                <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M21.59 6.98002C20.74 6.04002 19.32 5.57002 17.26 5.57002H17.02V5.53002C17.02 3.85002 17.02 1.77002 13.26 1.77002H11.74C7.98004 1.77002 7.98004 3.86002 7.98004 5.53002V5.58002H7.74004C5.67004 5.58002 4.26004 6.05002 3.41004 6.99002C2.42004 8.09002 2.45004 9.57002 2.55004 10.58L2.56004 10.65L2.63749 11.4633C2.65176 11.6131 2.73242 11.7484 2.85831 11.8307C3.09812 11.9877 3.49946 12.2464 3.74004 12.38C3.88004 12.47 4.03004 12.55 4.18004 12.63C5.89004 13.57 7.77004 14.2 9.68004 14.51C9.77004 15.45 10.18 16.55 12.37 16.55C14.56 16.55 14.99 15.46 15.06 14.49C17.1 14.16 19.07 13.45 20.85 12.41C20.91 12.38 20.95 12.35 21 12.32C21.3968 12.0958 21.8083 11.8195 22.1835 11.5489C22.2965 11.4673 22.3688 11.3413 22.3842 11.2028L22.4 11.06L22.45 10.59C22.46 10.53 22.46 10.48 22.47 10.41C22.55 9.40002 22.53 8.02002 21.59 6.98002ZM13.59 13.83C13.59 14.89 13.59 15.05 12.36 15.05C11.13 15.05 11.13 14.86 11.13 13.84V12.58H13.59V13.83ZM9.41004 5.57002V5.53002C9.41004 3.83002 9.41004 3.20002 11.74 3.20002H13.26C15.59 3.20002 15.59 3.84002 15.59 5.53002V5.58002H9.41004V5.57002Z"
                        fill="#3366FF" />
                    <path
                        d="M21.3733 13.7341C21.7269 13.5659 22.1342 13.8462 22.0988 14.2361L21.7398 18.19C21.5298 20.19 20.7098 22.23 16.3098 22.23H8.68984C4.28984 22.23 3.46984 20.19 3.25984 18.2L2.91913 14.4521C2.88409 14.0667 3.28205 13.7867 3.63468 13.9463C4.7741 14.4618 6.87724 15.3764 8.17641 15.7166C8.34072 15.7597 8.47361 15.8773 8.54556 16.0311C9.15253 17.3292 10.469 18.02 12.3698 18.02C14.252 18.02 15.585 17.3026 16.194 16.0013C16.266 15.8474 16.3991 15.7298 16.5635 15.6865C17.943 15.3235 20.1816 14.3012 21.3733 13.7341Z"
                        fill="#3366FF" />
                </svg>
            </selected-icon>

            <unselected-icon>
                <briefcase-icon>
                    <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M16.5 22.75H8.49998C3.87998 22.75 3.01998 20.6 2.79998 18.51L2.04998 10.5C1.93998 9.45 1.90998 7.9 2.94998 6.74C3.84998 5.74 5.33998 5.26 7.49998 5.26H17.5C19.67 5.26 21.16 5.75 22.05 6.74C23.09 7.9 23.06 9.45 22.95 10.51L22.2 18.5C21.98 20.6 21.12 22.75 16.5 22.75ZM7.49998 6.75C5.80998 6.75 4.64998 7.08 4.05998 7.74C3.56998 8.28 3.40998 9.11 3.53998 10.35L4.28998 18.36C4.45998 19.94 4.88998 21.25 8.49998 21.25H16.5C20.1 21.25 20.54 19.94 20.71 18.35L21.46 10.36C21.59 9.11 21.43 8.28 20.94 7.74C20.35 7.08 19.19 6.75 17.5 6.75H7.49998Z"
                            fill="#9CA3AF" />
                        <path
                            d="M16.5 6.75C16.09 6.75 15.75 6.41 15.75 6V5.2C15.75 3.42 15.75 2.75 13.3 2.75H11.7C9.25 2.75 9.25 3.42 9.25 5.2V6C9.25 6.41 8.91 6.75 8.5 6.75C8.09 6.75 7.75 6.41 7.75 6V5.2C7.75 3.44 7.75 1.25 11.7 1.25H13.3C17.25 1.25 17.25 3.44 17.25 5.2V6C17.25 6.41 16.91 6.75 16.5 6.75Z"
                            fill="#9CA3AF" />
                        <path
                            d="M12.5 16.75C9.75 16.75 9.75 15.05 9.75 14.03V13C9.75 11.59 10.09 11.25 11.5 11.25H13.5C14.91 11.25 15.25 11.59 15.25 13V14C15.25 15.04 15.25 16.75 12.5 16.75ZM11.25 12.75C11.25 12.83 11.25 12.92 11.25 13V14.03C11.25 15.06 11.25 15.25 12.5 15.25C13.75 15.25 13.75 15.09 13.75 14.02V13C13.75 12.92 13.75 12.83 13.75 12.75C13.67 12.75 13.58 12.75 13.5 12.75H11.5C11.42 12.75 11.33 12.75 11.25 12.75Z"
                            fill="#9CA3AF" />
                        <path
                            d="M14.5 14.77C14.13 14.77 13.8 14.49 13.76 14.11C13.71 13.7 14 13.32 14.41 13.27C17.05 12.94 19.58 11.94 21.71 10.39C22.04 10.14 22.51 10.22 22.76 10.56C23 10.89 22.93 11.36 22.59 11.61C20.25 13.31 17.49 14.4 14.59 14.77C14.56 14.77 14.53 14.77 14.5 14.77Z"
                            fill="#9CA3AF" />
                        <path
                            d="M10.5 14.78C10.47 14.78 10.44 14.78 10.41 14.78C7.66999 14.47 4.99999 13.47 2.68999 11.89C2.34999 11.66 2.25999 11.19 2.48999 10.85C2.71999 10.51 3.18999 10.42 3.52999 10.65C5.63999 12.09 8.06999 13 10.57 13.29C10.98 13.34 11.28 13.71 11.23 14.12C11.2 14.5 10.88 14.78 10.5 14.78Z"
                            fill="#9CA3AF" />
                    </svg>

                </briefcase-icon>
            </unselected-icon>
            <p class="mb-0 text-secondary text-opacity-75 d-none d-xs-block">Applied</p>
        </button>

        <button class="a-btn text-center btn" id="saved_a" data-link="./saved.html">

            <selected-icon class="d-none">
                <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M17.72 2H8.07997C5.94997 2 4.21997 3.74 4.21997 5.86V19.95C4.21997 21.75 5.50997 22.51 7.08997 21.64L11.97 18.93C12.49 18.64 13.33 18.64 13.84 18.93L18.72 21.64C20.3 22.52 21.59 21.76 21.59 19.95V5.86C21.58 3.74 19.85 2 17.72 2ZM15.4 11.4H10.4C9.98997 11.4 9.64997 11.06 9.64997 10.65C9.64997 10.24 9.98997 9.9 10.4 9.9H15.4C15.81 9.9 16.15 10.24 16.15 10.65C16.15 11.06 15.81 11.4 15.4 11.4Z"
                        fill="#3366FF" />
                </svg>
            </selected-icon>

            <unselected-icon>
                <save-icon>
                    <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M15.3999 11.4H10.3999C9.9899 11.4 9.6499 11.06 9.6499 10.65C9.6499 10.24 9.9899 9.9 10.3999 9.9H15.3999C15.8099 9.9 16.1499 10.24 16.1499 10.65C16.1499 11.06 15.8099 11.4 15.3999 11.4Z"
                            fill="#9CA3AF" />
                        <path
                            d="M5.82996 22.75C5.40996 22.75 5.01996 22.65 4.66996 22.45C3.89996 22 3.45996 21.09 3.45996 19.96V5.86C3.45996 3.32 5.52996 1.25 8.06996 1.25H17.72C20.26 1.25 22.33 3.32 22.33 5.86V19.95C22.33 21.08 21.89 21.99 21.12 22.44C20.35 22.89 19.34 22.84 18.35 22.29L13.47 19.58C13.18 19.42 12.61 19.42 12.32 19.58L7.43996 22.29C6.89996 22.59 6.34996 22.75 5.82996 22.75ZM8.07996 2.75C6.36996 2.75 4.96996 4.15 4.96996 5.86V19.95C4.96996 20.54 5.13996 20.98 5.43996 21.15C5.73996 21.33 6.20996 21.27 6.71996 20.98L11.6 18.27C12.34 17.86 13.46 17.86 14.2 18.27L19.08 20.98C19.59 21.27 20.06 21.33 20.36 21.15C20.66 20.97 20.83 20.53 20.83 19.95V5.86C20.83 4.15 19.43 2.75 17.72 2.75H8.07996Z"
                            fill="#9CA3AF" />
                    </svg>
                </save-icon>
            </unselected-icon>
            <p class="mb-0 text-secondary text-opacity-75 d-none d-xs-block">Saved</p>
        </button>

        <button class="a-btn text-center btn" id="profile_a" data-link="./profile-1.html">
            <selected-icon class="d-none">
                <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M12.3003 2C9.68029 2 7.55029 4.13 7.55029 6.75C7.55029 9.32 9.56029 11.4 12.1803 11.49C12.2603 11.48 12.3403 11.48 12.4003 11.49C12.4203 11.49 12.4303 11.49 12.4503 11.49C12.4603 11.49 12.4603 11.49 12.4703 11.49C15.0303 11.4 17.0403 9.32 17.0503 6.75C17.0503 4.13 14.9203 2 12.3003 2Z"
                        fill="#3366FF" />
                    <path
                        d="M17.3803 14.15C14.5903 12.29 10.0403 12.29 7.23025 14.15C5.96025 15 5.26025 16.15 5.26025 17.38C5.26025 18.61 5.96025 19.75 7.22025 20.59C8.62025 21.53 10.4603 22 12.3003 22C14.1403 22 15.9803 21.53 17.3803 20.59C18.6403 19.74 19.3403 18.6 19.3403 17.36C19.3303 16.13 18.6403 14.99 17.3803 14.15Z"
                        fill="#3366FF" />
                </svg>

            </selected-icon>

            <unselected-icon>
                <person-icon>
                    <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M12.4596 11.62C12.4296 11.62 12.4096 11.62 12.3796 11.62C12.3296 11.61 12.2596 11.61 12.1996 11.62C9.29962 11.53 7.10962 9.25 7.10962 6.44C7.10962 3.58 9.43962 1.25 12.2996 1.25C15.1596 1.25 17.4896 3.58 17.4896 6.44C17.4796 9.25 15.2796 11.53 12.4896 11.62C12.4796 11.62 12.4696 11.62 12.4596 11.62ZM12.2996 2.75C10.2696 2.75 8.60962 4.41 8.60962 6.44C8.60962 8.44 10.1696 10.05 12.1596 10.12C12.2096 10.11 12.3496 10.11 12.4796 10.12C14.4396 10.03 15.9796 8.42 15.9896 6.44C15.9896 4.41 14.3296 2.75 12.2996 2.75Z"
                            fill="#9CA3AF" />
                        <path
                            d="M12.4697 22.55C10.5097 22.55 8.53966 22.05 7.04966 21.05C5.65966 20.13 4.89966 18.87 4.89966 17.5C4.89966 16.13 5.65966 14.86 7.04966 13.93C10.0497 11.94 14.9097 11.94 17.8897 13.93C19.2697 14.85 20.0397 16.11 20.0397 17.48C20.0397 18.85 19.2797 20.12 17.8897 21.05C16.3897 22.05 14.4297 22.55 12.4697 22.55ZM7.87966 15.19C6.91966 15.83 6.39966 16.65 6.39966 17.51C6.39966 18.36 6.92966 19.18 7.87966 19.81C10.3697 21.48 14.5697 21.48 17.0597 19.81C18.0197 19.17 18.5397 18.35 18.5397 17.49C18.5397 16.64 18.0097 15.82 17.0597 15.19C14.5697 13.53 10.3697 13.53 7.87966 15.19Z"
                            fill="#9CA3AF" />
                    </svg>

                </person-icon>
            </unselected-icon>
            <p class="mb-0 text-secondary text-opacity-75 d-none d-xs-block">Profile</p>
        </button>
    </footer>

    <backdrop class="d-grid position-fixed w-100 h-100 bg-dark bg-opacity-10 d-none"
        style="z-index: 20; place-content: center;">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </backdrop>

    <script>
        if (!localStorage.getItem('token') && !sessionStorage.getItem('token')) location.replace('./login');

        const aArr = Array.from([...document.querySelectorAll('.a-btn')]);

        // Nav-bar handling
        aArr.map(el => {
            el.addEventListener('click', (ev) => {
                document.querySelector('iframe').contentWindow.location.replace(el.dataset.link);
                unselectAll()
                changeIconToSelected(el)
            })
        })

        function unselectAll() {
            sessionStorage.removeItem('nav-bar-state');
            [...document.querySelectorAll('selected-icon')].map(el => el.classList.add('d-none'));
            [...document.querySelectorAll('unselected-icon')].map(el => el.classList.remove('d-none'));

            [...document.querySelectorAll('p')].map(el => el.classList.remove('text-primary'));
            [...document.querySelectorAll('p')].map(el => el.classList.add('text-secondary'));
            [...document.querySelectorAll('p')].map(el => el.classList.add('text-opacity-75'));
        }

        // Back to where we was
        if (sessionStorage.getItem('nav-bar-state')) {
            let wasChosen = sessionStorage.getItem('nav-bar-state');
            unselectAll()
            changeIconToSelected(aArr[wasChosen])
            sessionStorage.removeItem('nav-bar-state')
        }else{
            unselectAll()
            changeIconToSelected(aArr[0])
        }
        

        function changeIconToSelected(ele) {

            ele.querySelector('selected-icon').classList.remove('d-none')
            ele.querySelector('unselected-icon').classList.add('d-none')
            ele.querySelector('p').classList.remove('text-secondary')
            ele.querySelector('p').classList.remove('text-opacity-75')
            ele.querySelector('p').classList.add('text-primary')
        }

    </script>
</body>

</html>